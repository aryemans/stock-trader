{"ast":null,"code":"var _jsxFileName = \"/Users/aryemans/stock-trader/stock-trader-backend/stock-trader-backend/ClientApp/src/components/LimitOrders.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate } from 'react-router';\nimport Cookies from 'universal-cookie';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction LimitOrders() {\n  _s();\n\n  const [limitOrders, setLimitOrders] = useState([]);\n  const navigate = useNavigate();\n  const cookies = new Cookies();\n  const userRole = cookies.get('UserRole');\n  useEffect(() => {\n    fetch(\"/users/get-limit-orders\", {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(res => res.json()).then(data => {\n      setLimitOrders(data);\n    }).catch(error => console.log(error));\n  }, []);\n\n  const handleCancel = async orderId => {\n    console.log(orderId);\n    await fetch(`/users/delete-order/${orderId}`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(res => res.json()).then(data => {\n      setLimitOrders(data);\n    }).catch(error => console.log(error));\n  };\n\n  if (userRole === \"user\") {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Limit Orders\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 13\n      }, this), limitOrders.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Order Id\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 49,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Stock\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 50,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Price\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 51,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Expire Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 52,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Action\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 53,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: limitOrders.map((order, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: order.order_id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: order.stock_ticker\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: order.price\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: order.expireDate\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleCancel(order.orderId),\n                  children: \"Cancel\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 64,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 29\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 25\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 14\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \" You currently have no limit orders \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 16\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }, this);\n  } else {\n    navigate(\"/login\");\n  }\n}\n\n_s(LimitOrders, \"PqGCeq6L5oHqOHbmHjiFZquEcXY=\", false, function () {\n  return [useNavigate];\n});\n\n_c = LimitOrders;\nexport default LimitOrders;\n\nvar _c;\n\n$RefreshReg$(_c, \"LimitOrders\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","Cookies","LimitOrders","limitOrders","setLimitOrders","navigate","cookies","userRole","get","fetch","method","headers","then","res","json","data","catch","error","console","log","handleCancel","orderId","length","map","order","index","order_id","stock_ticker","price","expireDate"],"sources":["/Users/aryemans/stock-trader/stock-trader-backend/stock-trader-backend/ClientApp/src/components/LimitOrders.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useNavigate } from 'react-router';\nimport Cookies from 'universal-cookie';\n\nfunction LimitOrders() {\n    const [limitOrders, setLimitOrders] = useState([]);\n    const navigate = useNavigate();\n    const cookies = new Cookies();\n    const userRole = cookies.get('UserRole');\n\n    useEffect(() => {\n        fetch(\"/users/get-limit-orders\", {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        })\n            .then((res) => res.json())\n            .then((data) => {\n                setLimitOrders(data);\n            })\n            .catch((error) => console.log(error));\n    }, []);\n\n    const handleCancel = async (orderId) => {\n        console.log(orderId);\n        await fetch(`/users/delete-order/${orderId}`, {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        })\n            .then((res) => res.json())\n            .then((data) => {\n                setLimitOrders(data);\n            })\n            .catch((error) => console.log(error));\n    };\n\n    if(userRole === \"user\") {\n    return (\n        <div>\n            <h1>Limit Orders</h1>\n            {limitOrders.length > 0 ? (\n             <div>   \n            <table>\n                <thead>\n                    <tr>\n                        <th>Order Id</th>\n                        <th>Stock</th>\n                        <th>Price</th>\n                        <th>Expire Date</th>\n                        <th>Action</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {limitOrders.map((order, index) => (\n                        <tr key={index}>\n                            <td>{order.order_id}</td>\n                            <td>{order.stock_ticker}</td>\n                            <td>{order.price}</td>\n                            <td>{order.expireDate}</td>\n                            <td>\n                                <button onClick={() => handleCancel(order.orderId)}>\n                                    Cancel\n                </button>\n                            </td>\n                        </tr>\n                    ))}\n                </tbody>\n            </table>\n        </div> ) : (\n            <div> \n               <p> You currently have no limit orders </p>\n            </div>\n        ) }\n        </div>\n    );\n   } else {\n        navigate(\"/login\");\n   }\n\n}\n\nexport default LimitOrders;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}